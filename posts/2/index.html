
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Devin Wadsworth</title>
	<meta name="author" content="Devin Wadsworth">

	
	<meta name="description" content="For years, Firefox has enforced a strict same-origin policy for web fonts. This is the behavior recommended by the latest W3C Fonts Spec. As &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Devin Wadsworth" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico?v=1" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body data-page=/posts/2/index.html>
	<header id="header" class="inner"><h1><a href="/">Devin Wadsworth</a></h1>
<nav id="main-nav"><ul class="main">
  <li class="blog"><a href="/">Blog</a></li>
  <li class="portfolio"><a href="/portfolio">Portfolio</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
  <li class="blog"><a href="/">Blog</a></li>
  <li class="portfolio"><a href="/portfolio">Portfolio</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:devinwadsworth.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/devinwadsworth" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/daymun" title="GitHub">GitHub</a>
		
    
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/devinwadsworth">LinkedIn</a>
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:devinwadsworth.com">
	</form>
</nav>

</header>
	
		<div id="banner" class="inner">
  
    <section class="about inner">
  <img class="avatar" src="/images/devin-80x80.jpg" alt="Devin">
  <p>
    <span class="hi">Hi.</span> I&#8217;m a technologist based in the Bay Area. I currently write code at OnMyBlock (<a href="https://onmyblock.com/careers">we&#8217;re hiring</a>). Welcome to my corner of the internet for side projects, rants, and technical writeups.
  </p>
</section>

  
</div>

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/09/07/cache-rules-everything-around-me/">
		
			Cache Rules Everything Around Me</a>
	</h2>
	<div class="entry-content">
		<p>For years, Firefox has enforced a strict same-origin policy for web fonts. This is the behavior recommended by the latest <a href="http://www.w3.org/TR/css3-fonts/#same-origin-restriction">W3C Fonts Spec</a>. As indicated by the spec, servers that you wish to host fonts on for another domain will need to be configured to respond with the appropriate Cross-Origin Resource Sharing (CORS) headers.</p>

<p>This behavior protects font publishers, but it also creates hassle for anyone using an external asset host or CDN. If the font asset response from your asset server doesn&rsquo;t include CORS headers, those fonts will not render correctly in the browser. Usually an empty square will be displayed instead of the desired character.</p>

<p>There&rsquo;s an <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=604421">old issue</a> on Mozilla&rsquo;s bug tracker where the decision to implement this as default behavior is discussed at length. As noted at the end of the thread, Chrome 37 (<a href="http://googlechromereleases.blogspot.com/2014/08/stable-channel-update_26.html">released to Stable on 8/26/14</a>) now complies with the W3C spec. Because of this, it&rsquo;s now more important than ever that your asset host is configured correctly.</p>

<p>If you use Cloudfront, this configuration is pretty straightforward as Amazon now offers <a href="http://aws.amazon.com/about-aws/whats-new/2014/06/26/amazon-cloudfront-device-detection-geo-targeting-host-header-cors/">full-fledged CORS support</a>. After you <a href="http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/header-caching.html#header-caching-web-cors">configure Cloudfront to forward the Origin header</a>, your origin server still needs to send the right headers &ndash; check out <a href="http://enable-cors.org/">enable-cors.org</a> for server specific configuration instructions. With nginx I simply had to use the <code>add_header</code> directive. Once the origin server is responding with the right headers, you&rsquo;ll need to manually bust the edge caches or generate a new asset manifest. You can see if the headers are there with <code>curl --head</code>.</p>

<p>One gotcha I ran into: Chrome does a preflight request before doing a GET for the font asset. If the preflight request doesn&rsquo;t have CORS headers, the actual GET will show as canceled in the webkit network console. It was hard to tell what was going on because the network console doesn&rsquo;t show preflight requests and <code>curl --head</code> shows the right headers (GET request without preflight). So, make sure you allow both GET and OPTIONS requests with the <code>Access-Control-Allow-Methods</code> header.</p>

		
		
	</div>


<div class="meta">
	




<time class='entry-date' datetime='2014-09-07T14:53:55-07:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>2:53 pm</span></time>
	<div class="tags">


	<a class='category' href='/blog/categories/assets/'>assets</a>, <a class='category' href='/blog/categories/aws/'>aws</a>, <a class='category' href='/blog/categories/cdn/'>cdn</a>, <a class='category' href='/blog/categories/cloudfront/'>cloudfront</a>, <a class='category' href='/blog/categories/cors/'>cors</a>, <a class='category' href='/blog/categories/nginx/'>nginx</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/06/14/is-ios-7-pretty-on-the-inside/">
		
			Is iOS 7 Pretty on the Inside?</a>
	</h2>
	<div class="entry-content">
		<p><img class="left" src="/images/iOS7-real-px.png" title="JustD Alternative Icon Set" >
Never thought I&rsquo;d see something as ugly as the new iOS icon set on Apple&rsquo;s front page. A few of them are alright. The white background on the Safari icon looks like it&rsquo;s there by mistake. Seriously, when you accidentally save an icon with a white background instead of a transparent one, that&rsquo;s what it looks like. This is what a circular icon on a white square makes me think of &ndash; especially when the icon itself looks like a product of MS Paint.</p>

<p>&ldquo;They ripped off Microsoft&rdquo; and similar accusations aside, the in-app screenshots do look pretty nice. The photos app stands out and the consistent content-first approach is refreshing. It&rsquo;s been said that this is the most important aspect of the redesign. After all, you don&rsquo;t actually spend time on the home screen &ndash; you launch your app and get out of there. Besides, with all the negative press these icons have been getting, Apple will almost certainly put some attention on them before the final release.</p>

<p>But at first glance, these new icons really do seem detrimental to the Apple brand. Anyone with a bit of design sense can tell how unappealing the new icons are. Even the gradients aren&rsquo;t consistent &ndash; the mail icon sticks out like a sore thumb. They would be better off simply removing the gloss and gradient from many of their old icons. Some third party apps (Skype, LinkedIn, etc.) have already taken this approach. Betas are available for iOS 7, but most people won&rsquo;t use it until the final release this fall. In fact, I&rsquo;m sure a lot of people won&rsquo;t see anything besides the new icon set before the final is available to install on their iThings. Apple has made this new icon set the most visible (if not the most important) aspect of iOS 7 by placing it on their homepage.</p>


		
		<a href="/blog/2013/06/14/is-ios-7-pretty-on-the-inside/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	




<time class='entry-date' datetime='2013-06-14T15:12:00-07:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>3:12 pm</span></time>
	<div class="tags">


	<a class='category' href='/blog/categories/apple/'>apple</a>, <a class='category' href='/blog/categories/design/'>design</a>, <a class='category' href='/blog/categories/ios/'>ios</a>, <a class='category' href='/blog/categories/ios7/'>ios7</a>, <a class='category' href='/blog/categories/iphone/'>iphone</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/04/14/stop-pasting-code-to-vendor-slash-assets/">
		
			Stop Pasting Code to Vendor/assets!</a>
	</h2>
	<div class="entry-content">
		<p>Use the <a href="http://twitter.github.io/bower/">Bower</a> <a href="https://github.com/spagalloco/bower">gem</a> instead!</p>

<p>I prefer the bower gem over <a href="https://github.com/rharriso/bower-rails/">bower-rails</a> because it <a href="https://github.com/spagalloco/bower#how-this-gem-differs-from-other-techniques">defaults to placing everything in components/</a>, instead of lib/ and vendor/. Using components/ is a nice cue to other developers that the project uses Bower.</p>

<p>Besides, Rails creates vendor/assets/javascripts/ and vendor/assets/stylesheets/ &ndash; this structure doesn&rsquo;t make sense for many repositories that include CSS and Javascript. Use components/project_name/ instead.</p>

		
		
	</div>


<div class="meta">
	




<time class='entry-date' datetime='2013-04-14T23:55:00-07:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>11:55 pm</span></time>
	<div class="tags">


	<a class='category' href='/blog/categories/assets/'>assets</a>, <a class='category' href='/blog/categories/bower/'>bower</a>, <a class='category' href='/blog/categories/css/'>css</a>, <a class='category' href='/blog/categories/gems/'>gems</a>, <a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/10/30/using-os-x-media-keys-with-web-applications/">
		
			Using OS X Media Keys With Web Applications</a>
	</h2>
	<div class="entry-content">
		<p><img class="left" src="/images/mac-media-keys.jpg" title="Mac Media Keys" >
Last week I set out to find a way to use my macbook media keys to control web applications. Specifically, I wanted to use the play/pause and next/prev buttons with <a href="https://github.com/tsquillario/MiniSub">MinSub</a>, the HTML5 player for <a href="http://www.subsonic.org/">Subsonic</a>.</p>

<p>After a bit of googling, I found two solutions from <a href="http://smus.com/">Boris Smus</a>. The first (<a href="https://github.com/borismus/Chrome-Media-Keys">Chrome-Media-Keys</a>), works by adding JS event listeners to all Chrome tabs. There are a few problems with this:</p>

<ol>
<li><p>Pressing a media key doesn&rsquo;t actually trigger keypress, but pressing F7-F9 does. This means that you need to invert those keys with <a href="http://kevingessner.com/software/functionflip/">FunctionFlip</a> or similar, which breaks support for desktop media apps (you would need to push fn+play to control iTunes). I believe some non-mac keyboards will trigger keypress for their media keys.</p></li>
<li><p>Possible performance issues because you are inserting JavaScript into every open Chrome tab.</p></li>
<li><p>Lastly, this only works if Chrome is the active window. The whole point of media keys is to let you control music regardless of what software you are currently using.</p></li>
</ol>



		
		<a href="/blog/2012/10/30/using-os-x-media-keys-with-web-applications/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	




<time class='entry-date' datetime='2012-10-30T15:54:00-07:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>3:54 pm</span></time>
	<div class="tags">


	<a class='category' href='/blog/categories/github/'>github</a>, <a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/mac/'>mac</a>, <a class='category' href='/blog/categories/media/'>media</a>, <a class='category' href='/blog/categories/minisub/'>minisub</a>, <a class='category' href='/blog/categories/music/'>music</a>, <a class='category' href='/blog/categories/osx/'>osx</a>, <a class='category' href='/blog/categories/python/'>python</a>, <a class='category' href='/blog/categories/subsonic/'>subsonic</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        
            <a href="/" class="prev">Prev</a>
        
    
    
        <a href="/posts/3" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
	<footer id="footer" class="inner"><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a>

<p>Powered by <a href="http://octopress.org/" target="_blank">Octopress</a></p>
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox({
	  padding : 0
	});
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'devinwadsworth';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-24125596-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>